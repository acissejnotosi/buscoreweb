<div class="contentBox-small" style="width: 1100px;">
  <div class="content-whole">
    <h1 style="text-align: center;">Calcular RPN</h1>
    <div style="padding: 50px; font-size: 20px;">
      <div style="width: 50%">
        Selecionar Linha:
        <br />
        <select class="form-control" name="busline" id="appearance-select" [(ngModel)]="selectedLinha" (change) = "SetEnablingTable()" >
          <option *ngFor="let linha of linhas" [value]="linha.linhaId">{{linha.nomeLinha}}</option>
        </select>
      </div>
    <!--   <div style="width: 50%">
        Componente:
        <br />
        <select class="form-control" name="component" data-live-search="true" id="appearance-select" [(ngModel)]="selecao" [disabled]="!isEnablingComponent"
          (change)="setRPNAndKm()">
          <option value="suspension">Suspensão</option>
          <option value="brakes">Freios</option>
          <option value="clutch">Embreagem</option>
        </select>
      </div> -->

      Preencha a tabela abaixo para obter os resultados:
      <table class="table table-striped">
        <thead class="thead-dark">
          <tr>
            <th>Descrição</th>
            <th>
              <a data-toggle="modal" href="#myModalOcorrencia">Ocorrência</a>
              <!-- Modal -->
              <div class="modal fade" id="myModalOcorrencia" role="dialog">
                <div class="modal-dialog">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Modal Header</h4>
                    </div>
                    <div class="modal-body">
                      <p>Aparecer tabela Ocorrencia.</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>

                </div>
              </div>

            </th>
            <th>

              <a data-toggle="modal" href="#myModalSeveridade">Severidade</a>
              <!-- Modal -->
              <div class="modal fade" id="myModalSeveridade" role="dialog">
                <div class="modal-dialog">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Modal Header</h4>
                    </div>
                    <div class="modal-body">
                      <p>Aparecer tabela Severidade.</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>

                </div>
              </div>

            </th>
            <th>

              <a data-toggle="modal" href="#myModalDeteccao">Deteccao</a>
              <!-- Modal -->
              <div class="modal fade" id="myModalDeteccao" role="dialog">
                <div class="modal-dialog">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Modal Header</h4>
                    </div>
                    <div class="modal-body">
                      <p>Aparecer tabela Deteccao.</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>

                </div>
              </div>
            </th>
            <th>
              <b>RPN</b>
            </th>
          </tr>
        </thead>
        <tbody >
         <tr style="background-color: rgb(200, 200, 200)"><td>Suspensão</td><td></td><td></td><td></td><td></td></tr>
          
          <tr>
            <td>Buracos</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow1SBuraco" (change)="setRPNAndKmSuspensao()"
              />

              <div *ngIf="ocorSuspensao <1 || ocorSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>

            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow1SBuraco" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="seveSuspensao <1 || seveSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow1SBuraco" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="deteSuspensao <1 || deteSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>{{ocorRow1SBuraco * seveRow1SBuraco * deteRow1SBuraco}}</td>
          </tr>
          <tr>
            <td>Redutores</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow2SRedutor" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="ocorFreio <1 || ocorFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow2SRedutor" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="seveFreio <1 || seveFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow2SRedutor" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="deteFreio <1 || deteFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>{{ocorRow2SRedutor * seveRow2SRedutor * deteRow2SRedutor}}</td>
          </tr>
          <tr>
            <td>Carga</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow3SCarga" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="ocorEmbreagem <1 || ocorEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow3SCarga" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="seveEmbreagem <1 || seveEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow3SCarga" (change)="setRPNAndKmSuspensao()"
              />
              <div *ngIf="deteEmbreagem <1 || deteEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>

            </td>
            <td>{{ocorRow3SCarga * seveRow3SCarga * deteRow3SCarga}}</td>
          </tr>
        </tbody>
        <tbody >
            <tr style="background-color: rgb(200, 200, 200)"><td>Freios</td><td></td><td></td><td></td><td></td></tr>
       
      
          <tr>
            <td>Parada</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow1FParada" (change)="setRPNAndKmFreio()"
              />

              <div *ngIf="ocorSuspensao <1 || ocorSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>

            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow1FParada" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="seveSuspensao <1 || seveSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow1FParada" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="deteSuspensao <1 || deteSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>{{ocorRow1FParada * seveRow1FParada * deteRow1FParada}}</td>
          </tr>
          <tr>
            <td>Semáforo</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow2FSemaforo" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="ocorFreio <1 || ocorFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow2FSemaforo" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="seveFreio <1 || seveFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow2FSemaforo" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="deteFreio <1 || deteFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>{{ocorRow2FSemaforo * seveRow2FSemaforo * deteRow2FSemaforo}}</td>
          </tr>
          <tr>
            <td>Redutor</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow3FRedutor" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="ocorEmbreagem <1 || ocorEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow3FRedutor" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="seveEmbreagem <1 || seveEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow3FRedutor" (change)="setRPNAndKmFreio()"
              />
              <div *ngIf="deteEmbreagem <1 || deteEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>

            </td>
            <td>{{ocorRow3FRedutor * seveRow3FRedutor * deteRow3FRedutor}}</td>
          </tr>
        </tbody>

        <tbody >
            <tr style="background-color: rgb(200, 200, 200)"><td>Embreagem</td><td></td><td></td><td></td><td></td></tr>
    
       
          <tr>
            <td>Parada</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow1EParada" (change)="setRPNAndKmEmbreagem()"
              />

              <div *ngIf="ocorSuspensao <1 || ocorSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>

            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow1EParada" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="seveSuspensao <1 || seveSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow1EParada" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="deteSuspensao <1 || deteSuspensao > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>{{ocorRow1EParada * seveRow1EParada * deteRow1EParada}}</td>
          </tr>
          <tr>
            <td>Semáforo</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow2ESemaforo" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="ocorFreio <1 || ocorFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow2ESemaforo" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="seveFreio <1 || seveFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow2ESemaforo" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="deteFreio <1 || deteFreio > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>{{ocorRow2ESemaforo * seveRow2ESemaforo * deteRow2ESemaforo}}</td>
          </tr>
          <tr>
            <td>Redutor</td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="ocorRow3ERedutor" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="ocorEmbreagem <1 || ocorEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="seveRow3ERedutor" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="seveEmbreagem <1 || seveEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>
            </td>
            <td>
              <input [disabled]="!isEnablingTable" class="form-control" type="text" autocomplete="off" [(ngModel)]="deteRow3ERedutor" (change)="setRPNAndKmEmbreagem()"
              />
              <div *ngIf="deteEmbreagem <1 || deteEmbreagem > 10" class="error-validation">
                O valor deve ser entre 1-10.
              </div>

            </td>
            <td>{{ocorRow3ERedutor * seveRow3ERedutor * deteRow3ERedutor}}</td>
          </tr>
        </tbody>
      </table>



      <div style="margin-top: 20px;">
        <p>
          <b>Resultados</b>
        </p>
        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th style="width: 25%">Suspensão</th>
              <th style="width: 25%">Freios</th>
              <th style="width: 25%">Embreagem</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                RPN Suspensão: {{RPNTSuspensao}}
                <br /> KM Suspensão: {{KmSuspensao}}
              </td>
              <td>
                RPN Freios: {{RPNTFreio}}
                <br /> KM Freio: {{KmFreio}}
              </td>
              <td>
                RPN Embreagem: {{RPNTEmgreagem}}
                <br /> KM Embreagem: {{KmEmbreagem}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <button type="submit" class="btn btn-primary" (click)="salvarAnalise()"  style='margin:10px'>Salvar Análise</button>
      <button class="btn btn-primary" (click)="redirecionarParaGerarRelatorio()" [disabled]="!isRedirecting" role="button"
        style='margin:10px'>Gerar Relatório</button>
    </div>
  </div>
</div>