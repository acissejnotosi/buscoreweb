<div class="contentBox-small" style="width: 80%;">
  <div class="content-whole">
    <h1 style="text-align: center;">Valor de Fábrica</h1>
    <form [formGroup]="linhaFabricaForm" (ngSubmit)="onSubmit()" style="padding: 50px; font-size: 20px;">

      <div style="display: inline-block; width: 40%; margin-bottom: 20px">
        Selecionar Linha:
        <select formControlName="linhaId" class="form-control" (change)="setLinha()">
          <option value="{{linha.linhaId}}" *ngFor="let linha of linhas">{{linha.nomeLinha}}</option>
        </select>
      </div>

      <table class="table table-striped" style="font-size: 16px;">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Componente Mecânico</th>
            <th scope="col">RPN Buraco</th>
            <th scope="col">RPN Redutor</th>
            <th scope="col">RPN Carga</th>
            <th scope="col">KM Fabrica</th>
            <th scope="col">
              <b>RPN Total Fábrica</b>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Suspensão</td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNSuspensaoBuracoFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNSuspensaoBuracoFabrica?.errors.required || RPNSuspensaoBuracoFabrica?.errors.min || RPNSuspensaoBuracoFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNSuspensaoRedutorFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNSuspensaoRedutorFabrica?.errors.required || RPNSuspensaoRedutorFabrica?.errors.min || RPNSuspensaoRedutorFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNSuspensaoCargaFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNSuspensaoCargaFabrica?.errors.required || RPNSuspensaoCargaFabrica?.errors.min || RPNSuspensaoCargaFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="totalKmSuspensaoFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="totalKmSuspensaoFabrica?.errors.required || totalKmSuspensaoFabrica?.errors.min || totalKmSuspensaoFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              {{+suspensaoBuracoCalc + +suspensaoRedutorCalc + +suspensaoCargaCalc}}
            </td>
          </tr>
        </tbody>
      </table>

      <table class="table table-striped" style="font-size: 16px;">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Componente Mecânico</th>
            <th scope="col">RPN Parada</th>
            <th scope="col">RPN Semaforo</th>
            <th scope="col">RPN Redutor</th>
            <th scope="col">KM Fabrica</th>
            <th scope="col">
              <b>RPN Total Fábrica</b>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Embreagem</td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNEmbreagemParadaFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNEmbreagemParadaFabrica?.errors.required || RPNEmbreagemParadaFabrica?.errors.min || RPNEmbreagemParadaFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNEmbreagemSemaforoFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNEmbreagemSemaforoFabrica?.errors.required || RPNEmbreagemSemaforoFabrica?.errors.min || RPNEmbreagemSemaforoFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNEmbreagemRedutorFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNEmbreagemRedutorFabrica?.errors.required || RPNEmbreagemRedutorFabrica?.errors.min || RPNEmbreagemRedutorFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="totalKmEmbreagemFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="totalKmEmbreagemFabrica?.errors.required || totalKmEmbreagemFabrica?.errors.min || totalKmEmbreagemFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              {{+embreagemParadaCalc + +embreagemSemaforoCalc + +embreagemRedutorCalc}}
            </td>
          </tr>
        </tbody>
      </table>

      <table class="table table-striped" style="font-size: 16px;">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Componente Mecânico</th>
            <th scope="col">RPN Parada</th>
            <th scope="col">RPN Semaforo</th>
            <th scope="col">RPN Redutor</th>
            <th scope="col">KM Fabrica</th>
            <th scope="col">
              <b>RPN Total Fábrica</b>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Freios</td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNFreioParadaFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNFreioParadaFabrica?.errors.required || RPNFreioParadaFabrica?.errors.min || RPNFreioParadaFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNFreioSemaforoFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNFreioSemaforoFabrica?.errors.required || RPNFreioSemaforoFabrica?.errors.min || RPNFreioSemaforoFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="RPNFreioRedutorFabrica"
                class="form-control" autocomplete="off" />
              <div *ngIf="RPNFreioRedutorFabrica?.errors.required || RPNFreioRedutorFabrica?.errors.min || RPNFreioRedutorFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              <input type="number" required min="0" max="99999" (change)="updateCalculation()" formControlName="totalKmFreiosFabrica" class="form-control"
                autocomplete="off" />
              <div *ngIf="totalKmFreiosFabrica?.errors.required || totalKmFreiosFabrica?.errors.min || totalKmFreiosFabrica?.errors.max"
                class="error-validation">
                Este campo precisa ser um valor entre 1 e 99999.
              </div>
            </td>
            <td>
              {{+freiosParadaCalc + +freiosSemaforoCalc + +freiosRedutorCalc}}
            </td>
          </tr>
        </tbody>
      </table>

      <div style="margin-top: 20px;">
        <p>
          <b>Resultados</b>
        </p>

        <table class="table table-striped" style="font-size: 16px;">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Suspensão</th>
              <th scope="col">Embreagem</th>
              <th scope="col">Freios</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                RPN:
                <strong>{{+suspensaoBuracoCalc + +suspensaoRedutorCalc + +suspensaoCargaCalc}}</strong>
                <br /> KM:
                <strong>{{suspensaoKmCalc}}</strong>
                <br />
              </td>
              <td>
                RPN:
                <strong>{{+embreagemParadaCalc + +embreagemSemaforoCalc + +embreagemRedutorCalc}}</strong>
                <br /> KM:
                <strong>{{embreagemKmCalc}}</strong>
                <br />
              </td>
              <td>
                RPN:
                <strong>{{+freiosParadaCalc + +freiosSemaforoCalc + +freiosRedutorCalc}}</strong>
                <br /> KM:
                <strong>{{freiosKmCalc}}</strong>
                <br />
              </td>
            </tr>
          </tbody>
        </table>
        <button type="submit" class="btn btn-primary float-right" [disabled]="linhaFabricaForm.valid && isSubmitting">Salvar</button>
      </div>
    </form>
  </div>